<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Before starting &mdash; OpenCavity 0.1 Pre-Alpha documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1 Pre-Alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="OpenCavity 0.1 Pre-Alpha documentation" href="index.html" />
    <link rel="next" title="Tutorial 1 - Simple 2 mirrors cavity" href="tutorial1.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial1.html" title="Tutorial 1 - Simple 2 mirrors cavity"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">OpenCavity 0.1 Pre-Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="before-starting">
<h1>Before starting<a class="headerlink" href="#before-starting" title="Permalink to this headline">¶</a></h1>
<p><em>Opencavity</em> can be downloaded from  <a class="reference external" href="https://github.com/seghil/OpenCavity/releases">releases page</a> . But it requires some scientific and visualization python packages to work.</p>
<p>In the first part of this page we present briefly how to install python and the needed dependencies (numpy, scipy and matplotlib).</p>
<p>In the second part we see some basics of optical cavities and their eigenmodes, don&#8217;t worry it is not a course, just what one needs to learn and start using <em>OpenCavity</em> rapidly and efficiently. Let&#8217;s begin!</p>
<div class="section" id="new-to-python">
<h2>New to python?<a class="headerlink" href="#new-to-python" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to install <a class="reference external" href="https://www.python.org/download/releases/2.7/">python2.7</a>  on windows and all the needed dependencies is to install one of the scientific Python bundles such as <a class="reference external" href="http://continuum.io/downloads">anaconda</a> or <a class="reference external" href="https://code.google.com/p/pythonxy/">pythonxy</a>  which come with the most popular python packages
for scientific and engineering (numerical computations, data analysis and data visualization...). Both python distributions come with <a class="reference external" href="https://code.google.com/p/spyderlib/">spyder</a> a (Matlab-like) interactive development editor for python. This is the simplest way to have a working environment out of the box, otherwise you will have to install every single package separately:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://www.python.org/download/releases/2.7/">python2.7</a></li>
<li><a class="reference external" href="http://scipy.org/">scipy</a></li>
<li><a class="reference external" href="http://numpy.org/">numpy</a></li>
<li><a class="reference external" href="https://code.google.com/p/spyderlib/">spyder</a> is also highly recommended as a working editor.</li>
</ul>
</div></blockquote>
<p>On <em>Linux</em> users can install all modules quickly using the command line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#sudo apt-get install python-numpy python-scipy python-matplotlib ipython  python-spyderlib</span>
</pre></div>
</div>
<p>Once all packages installed, you can install <em>OpenCavity</em> from <a class="reference external" href="https://github.com/seghil/OpenCavity/releases">releases page</a> and launch <em>spyder</em>, see screen shot below.</p>
<img alt="_images/spyder-screenshot.png" src="_images/spyder-screenshot.png" />
<p>The important parts pointed out in the figure above are:</p>
<blockquote>
<div><ul class="simple">
<li>Editor : a text editor for python (writing and executing python scripts)</li>
<li>Python console: for interactively (in-line) writing and executing python commands.</li>
<li>Object instructor: gives informations about variables in the workspace (like the workspace browser in Matlab)</li>
</ul>
</div></blockquote>
<p>When we give commands in the tutorials you can directly copy-past them in the console, Or in the editor to save and execute the commands. For these reasons at the end of each tutorial we give the cleaned code to copy the code directly without having to remove the commands number every time. If you have Ipython installed on your machine you can use it in <em>spyder</em> by choosing <code class="docutils literal"><span class="pre">ipython</span> <span class="pre">interpreter</span></code> in the <code class="docutils literal"><span class="pre">interpreters</span></code> menu. We will use an Ipython interpreter in the following tutorials, but using the default python interpreter
will also work.
To check that everything works fine, you can try to import the <em>opencavity</em> package and launch an off-line version of this tutorials by typing
.. ipython:</p>
<div class="highlight-python"><div class="highlight"><pre>In [1]: import opencavity; #importing the opencavity module

In [2]:  opencavity.help.launch(); #Launch off-line documentation in the browser
</pre></div>
</div>
<p>To get more information about using spyder with ipython there are many tutorials on the web, I personally prefer
<a class="reference external" href="http://www.southampton.ac.uk/~fangohr/blog/spyder-the-python-ide.html#switch-to-an-ipython-console">this one</a> .</p>
</div>
<div class="section" id="gaussian-optics-and-paraxial-ray-matrices">
<span id="ray-matrices-label"></span><h2>Gaussian optics and paraxial ray matrices<a class="headerlink" href="#gaussian-optics-and-paraxial-ray-matrices" title="Permalink to this headline">¶</a></h2>
<p>Gaussian optics, transfer matrices and ABCD law are essential tools for optical cavity design and analysis. These basics are covered in almost all optics textbooks and there are bunch of tutorials on the web, for this reason we think that talking about these basics once again will not be of great use. So if you are not familiar with these principles there is an excellent on-line tutorial on open resonator and Gaussian optics
<a class="reference external" href="http://www.optique-ingenieur.org/en/courses/OPI_ang_M01_C03/co/Grain_OPI_ang_M01_C03.html">here</a> that I highly recommend. Nevertheless, we give a brief insight of paraxial ray matrices as we will using it all through the tutorials to define optical cavities.</p>
<ul class="simple">
<li>ABCD ray matrices</li>
</ul>
<p>ABCD matrices are widely used to propagate optical rays through paraxial systems, for this the optical ray is defined by a slope <cite>s</cite> and a displacement <cite>r</cite> .</p>
<a class="reference internal image-reference" href="_images/ABCD_ray_scheme.png" id="abcd-ray-scheme-fig"><img alt="_images/ABCD_ray_scheme.png" class="align-center" id="abcd-ray-scheme-fig" src="_images/ABCD_ray_scheme.png" style="width: 4.5in;" /></a>
<p>When the ray propagates through paraxial optical element (lenses, curved mirrors ,interfaces and ducts ) ABCD matrices are used to transform the slope and the displacement of this ray.</p>
<a class="reference internal image-reference" href="_images/ABCD_ray_scheme2.png" id="abcd-ray-scheme2-fig"><img alt="_images/ABCD_ray_scheme2.png" class="align-center" id="abcd-ray-scheme2-fig" src="_images/ABCD_ray_scheme2.png" style="width: 4.5in;" /></a>
<p>For paraxial systems the output displacement and slope <cite>r2</cite>, <cite>s2</cite> can always be written as a function of <cite>r1</cite>,`s1` in matrix form as</p>
<div class="math">
\[\begin{split}\begin{bmatrix} r2 \\ s2 \end{bmatrix}=
\begin{bmatrix} A  &amp; B \\ C &amp; D \end{bmatrix}
\times \begin{bmatrix} r1 \\ s1 \end{bmatrix}\end{split}\]</div>
<p>This method is very useful and allows to cascade optical elements merely by doing dot product of tier respective matrices.</p>
</div>
<div class="section" id="theoretical-overview-of-modes-calculation">
<h2>Theoretical overview of modes calculation<a class="headerlink" href="#theoretical-overview-of-modes-calculation" title="Permalink to this headline">¶</a></h2>
<p>Open cavity uses matrix method (different from ABCD matrices) with Fresnel kernel formulation to model the propagation inside the optical cavity. At the first stage the ABCD matrix of the
optical system is written, then the Fresnel propagation integral through this system is calculated <a class="reference internal" href="#kogelnik1966" id="id4">[Kogelnik1966]</a>, one can take this integral expression and
propagate some initial field back and forth to see if the system sustains it, this is known as the Fox-Li method after the two researchers that first published
it <a class="reference internal" href="#fox-li1961" id="id5">[Fox-Li1961]</a>. The initial mode can be merely a plane wave or noise that can be seen as a sum of several modes or components (harmonics), then after
propagating this initial field back and forth inside the cavity its components experience different diffraction losses and the fundamental mode of the cavity
(if exists) will be the dominant one in the sum, because by definition it is the well confined one, having the weakest diffraction losses. More rigorous explanations and mathematically driven expressions can be found in the excellent textbook <a class="reference internal" href="#siegman1986" id="id6">[siegman1986]</a> in Chap 14.2 <cite>Mathematics of optical resonator modes</cite> and in this paper by the same author <a class="reference internal" href="#siegman1970" id="id7">[Siegman1970]</a>.</p>
<p>The Fox-Li iterative method is very useful method but can be used to find the fundamental mode only, or more precisely the dominant one, especially when we
already have a quite good guess of it. However, sometimes when the initial field is a plane wave or noise, the calculations usually need a large number of
iterations and converge hardly. For this reason, a more powerful method has been developed which is the matrix method. to understand how it works let&#8217;s
resume from writing the round-trip Fresnel propagation integral in a ABCD system, but now rather than propagating a given initial field back and forth, we will
write the propagation operation as a matrix product, let&#8217;s take a moment to think about it:</p>
<a class="reference internal image-reference" href="_images/fresnel_huigens_scheme.png" id="fresnel-integral-scheme-fig"><img alt="_images/fresnel_huigens_scheme.png" class="align-center" id="fresnel-integral-scheme-fig" src="_images/fresnel_huigens_scheme.png" style="width: 4.5in;" /></a>
<div class="math">
\[E_1(ds_i)= \int K(x1_i,x2_i) E_0(ds_i) ds\]</div>
<p>we propagate a given wave from a starting plane <cite>x1</cite> to a second one <cite>x2</cite> (the latter can be considered as a detector), to calculate the amplitude and the
phase of the propagated field at each point on the detector <span class="math">\(E_1(ds_j)\)</span>, we have to calculate the Fresnel integral over the whole starting plane
<span class="math">\(E_0(ds_i) , i=1,2,3..\)</span>. The equation shown above is the propagation integral through the cavity, and K(x1,x2) is a linear propagation operator called
the Kernel. Supposing that the studied cavity system has some fields that propagate without experiencing a change in their E-file distribution
but only some losses, these self-reproducing field are the modes we seek, this can be written as follows:</p>
<div class="math">
\[\gamma_{n} E_{n}(x2)= \int K(x1,x2) E_{n}(x1) dx\]</div>
<p>where <span class="math">\(\gamma_{nm}\)</span> is the eigenvalue of the n&#8217;th mode.</p>
<p>Now sticking with the same point on the detector, and using what is called the Legendre-Gauss quadrature scheme to transform the integral to a weighed sum at
particular points <span class="math">\(\chi_i\)</span> of the function known a the abscissas (<a class="reference external" href="http://en.wikipedia.org/wiki/Gaussian_quadrature">see Wikipedia article</a>), as follows
<span class="math">\(\int_{-1}^{1}f(x)=\sum_{i=1}^{\infty} \omega_i f(\chi_i)\)</span> this transforms the propagation integral to a weighted sum, for a given point <span class="math">\(x2_j\)</span> one obtains:</p>
<div class="math">
\[\gamma_{n} E_{n}(\chi 2_j)= \sum \omega_i K(\chi 1_i,\chi 2_j) E_{n}(\chi 1_i)\]</div>
<p>we end up with a weighted sum of all points  of  the initial field (vector ) to obtain one point of the second field (vector), does this remind you something? well it will be
more easy if we write it in a little different form:</p>
<div class="math">
\[\begin{split}\gamma_{n} \begin{bmatrix} ..\\ E_n(\chi 2_j) \\ .. \end{bmatrix}=
\begin{bmatrix} .. &amp; .. &amp; .. \\.. &amp; \omega_i K(\chi_i,\chi_j) &amp; .. \\ .. &amp; .. &amp;.. \end{bmatrix}
\cdot \begin{bmatrix} ..\\ E_n(\chi 1_i) \\ .. \end{bmatrix}\end{split}\]</div>
<p>It is the dot product of two vectors, or more generally a matrix with vector when the second vector contain more than one line which is actually
the case here because we want to calculate the field on all points of the detector, the matrix M is the Kernel-matrix.
It is easier now to see what are we talking about when we say a matrix-eigenvalues problem. To obtain the modes and their propagation losses inside the cavity,
we have merely to calculate the eigenvalues and eigenvectors of the Kernel-matrix.
We took a 1D example to explain the method used in <em>OpenCavity</em>, this method can be also used on 2D systems thanks to a matrix
transforming operations presented in this paper <a class="reference internal" href="#morissy2012" id="id8">[Morissy2012]</a>.</p>
<p>As explained earlier this method allows to design general cavity systems using ABCD matrix method, but sometimes we need optical elements that cannot be
defined using ABCD matrices, for this reason we added in open cavity a possibility to use any phase or amplitude function, as long as its distribution
expression is known as we show in the tutorials.</p>
<p>It is important to note, that as we are using Fresnel Kernel formulation, one have to keep in mind that it works for paraxial systems which means systems with
small numerical aperture, or put another way to calculate propagation of waves with small angle (&lt;30 deg) from the propagation axis. For more details see <a class="reference internal" href="#siegman1986" id="id9">[siegman1986]</a> in Chap 16.1 <cite>The paraxial wave equation</cite> and next chapter.</p>
<p class="rubric">Bibliography</p>
<table class="docutils citation" frame="void" id="kogelnik1966" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Kogelnik1966]</a></td><td>Kogelnik, H. &amp; Li, T. Laser beams and resonators. Appl. Opt. 5, 1550–1567 (1966).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="fox-li1961" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[Fox-Li1961]</a></td><td>FOX, A. G., &amp; Li, T. (1961). Resonant Modes in a MaserInterferometer. Bell Sys Tech. J, 40, 453–488.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="siegman1986" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[siegman1986]</td><td><em>(<a class="fn-backref" href="#id6">1</a>, <a class="fn-backref" href="#id9">2</a>)</em> <ol class="last upperalpha simple">
<li><ol class="first upperalpha" start="5">
<li>Siegman, Lasers (University Science Books, 1986)</li>
</ol>
</li>
</ol>
</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="siegman1970" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[Siegman1970]</a></td><td>Seigman, A. E., &amp; Miller, H. Y. (1970). Unstable optical resonator loss calculations using the prony method. Applied Optics, 9(12), 2729–36.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="morissy2012" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[Morissy2012]</a></td><td>Morrissey, F. X., &amp; Chou, H. P. (2011). Mode calculations in asymmetrically aberrated laser resonators using the Huygens-Fresnel kernel formulation. Optics Express, 19(20), 19702–7.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Before starting</a><ul>
<li><a class="reference internal" href="#new-to-python">New to python?</a></li>
<li><a class="reference internal" href="#gaussian-optics-and-paraxial-ray-matrices">Gaussian optics and paraxial ray matrices</a></li>
<li><a class="reference internal" href="#theoretical-overview-of-modes-calculation">Theoretical overview of modes calculation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="introduction.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tutorial1.html"
                        title="next chapter">Tutorial 1 - Simple 2 mirrors cavity</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/before_starting.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial1.html" title="Tutorial 1 - Simple 2 mirrors cavity"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             >previous</a> |</li>
        <li><a href="index.html">OpenCavity 0.1 Pre-Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, M.Seghilani.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b2.
    </div>
  </body>
</html>